<!doctype html>
<html>

<head>
	<title>Hierarchical Bar Chart</title>
	<script src="../node_modules/chart.js/dist/Chart.bundle.js"></script>
	<script src="../build/Chart.Hierarchical.js" type="text/javascript"></script>
	<style>
		canvas {
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}

	</style>
</head>

<body>
	<div id="container" style="width: 75%;">
		<canvas id="canvas"></canvas>
	</div>
	<script>
		const data = {
			// define label tree
			labels: [
				{
					label: 'A',
					backgroundColor: 'red'
				},
				{
					label: 'B',
					backgroundColor: 'blue',
					collapse: false, // expand level
					children: [
						{
							label: 'B1'
						},
						{
							label: 'B2',
							backgroundColor: 'lightblue'
						}
					]
				},
				{
					label: 'C',
					backgroundColor: 'green'
				}
			],
			datasets: [{
				label: 'Test',
				// store as the tree attribute for reference, the data attribute will be automatically managed
				tree: [
					1,
					{
						y: 2,
						children: [
							11,
							12
						]
					},
					3
				]
			}]
		};
		window.onload = () => {
			const ctx = document.getElementById("canvas").getContext("2d");
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: data,
				options: {
					responsive: true,
					title: {
						display: true,
						text: 'Chart.js Hierarchical Bar Chart'
					},
					layout: {
						padding: {
							// add more space at the bottom for the hierarchy
							bottom: 24
						}
					},
					scales: {
						xAxes: [{
							type: 'hierarchical',
							// offset setings, for centering the categorical axis in the bar chart case
							offset: true,

							attributes: [
								'backgroundColor'
							],

							// grid line settings
							gridLines: {
								offsetGridLines: true
							}
						}],
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				}
			});

		};

	</script>
</body>

</html>
